


    // !!! This file is generated using emlearn !!!

    #include <eml_trees.h>
    

static const EmlTreesNode model_nodes[102] = {
  { 20, 0.500000f, 1, 62 },
  { 18, 0.500000f, 1, 39 },
  { 16, 0.500000f, 1, 13 },
  { 19, 0.500000f, -1, 1 },
  { 10, 119.259941f, -1, 1 },
  { 2, 110.278545f, -1, 1 },
  { 28, 0.500000f, 1, -1 },
  { 29, 0.500000f, 1, -1 },
  { 21, 14.062500f, 1, 2 },
  { 23, 6.625000f, -2, -1 },
  { 24, 12.875000f, 1, 2 },
  { 24, 5.437500f, -2, -1 },
  { 10, 122.706161f, 1, -2 },
  { 10, 122.681889f, 1, -1 },
  { 25, 17.000000f, -2, -1 },
  { 8, 183.313316f, 1, 6 },
  { 8, 182.265854f, 1, 2 },
  { 10, 130.019722f, -1, -2 },
  { 0, 179.665802f, -1, 1 },
  { 25, 12.000000f, -3, 1 },
  { 5, 27.819674f, -3, -1 },
  { 21, 43.062500f, 1, 8 },
  { 21, 0.062500f, 1, 5 },
  { 10, 114.392723f, -3, 1 },
  { 19, 0.500000f, -3, 1 },
  { 14, 9.560196f, -3, 1 },
  { 27, 0.500000f, -3, -3 },
  { 21, 37.687500f, -1, 1 },
  { 25, 10.000000f, -1, -3 },
  { 24, 14.062500f, -1, 1 },
  { 22, 14.062500f, -1, 1 },
  { 23, 13.937500f, -1, 1 },
  { 15, 7.110265f, 1, 7 },
  { 0, 167.803329f, 1, 2 },
  { 23, 38.312500f, -3, -1 },
  { 5, 2.911404f, 1, 2 },
  { 7, 5.942174f, -1, -3 },
  { 5, 9.729343f, 1, -3 },
  { 5, 9.505977f, -3, -1 },
  { 6, 7.428928f, -3, -1 },
  { 17, 0.500000f, 1, 7 },
  { 10, 123.607845f, 1, 5 },
  { 8, 185.309532f, 1, 3 },
  { 10, 123.124245f, -1, 1 },
  { 12, 18.865763f, -1, -2 },
  { 16, 0.500000f, -1, -3 },
  { 19, 0.500000f, -1, -2 },
  { 9, 418.256744f, 1, -1 },
  { 16, 0.500000f, 1, 6 },
  { 21, 277.937500f, 1, -4 },
  { 23, 7.062500f, 1, -4 },
  { 19, 0.500000f, -4, 1 },
  { 25, 6.500000f, -4, 1 },
  { 2, 127.080555f, -4, -4 },
  { 8, 181.715668f, -4, 1 },
  { 21, 27.062500f, 1, -3 },
  { 26, 0.500000f, 1, -3 },
  { 29, 0.500000f, 1, 2 },
  { 4, 25.582688f, -3, -3 },
  { 10, 97.458126f, -3, 1 },
  { 15, 5.393317f, -3, 1 },
  { 23, 60.500000f, -3, -3 },
  { 11, 47.412533f, 1, 5 },
  { 10, 125.301052f, 1, 3 },
  { 10, 125.001232f, -1, 1 },
  { 23, 113.937500f, -1, -2 },
  { 6, 21.733156f, -2, -1 },
  { 17, 0.500000f, 1, 23 },
  { 8, 185.442596f, 1, 18 },
  { 10, 122.585590f, 1, 13 },
  { 3, 41.608866f, -1, 1 },
  { 6, 0.438356f, 1, 2 },
  { 4, 5.653892f, -5, -1 },
  { 0, 201.215080f, 1, 8 },
  { 15, 7.491572f, 1, 6 },
  { 9, 467.180008f, 1, 3 },
  { 3, 43.284040f, 1, -5 },
  { 3, 43.248978f, -5, -1 },
  { 13, 36.360596f, 1, -5 },
  { 3, 48.790356f, -5, -1 },
  { 10, 101.306274f, -5, -1 },
  { 6, 7.059224f, -3, -5 },
  { 24, 146.000000f, 1, -2 },
  { 19, 0.500000f, -5, 1 },
  { 14, 8.987189f, -2, 1 },
  { 3, 48.646521f, -2, -2 },
  { 23, 74.937500f, 1, 3 },
  { 21, 22.062500f, 1, -3 },
  { 7, 4.484909f, -3, -3 },
  { 11, 49.409126f, -3, -5 },
  { 9, 413.568634f, 1, -5 },
  { 22, 14.562500f, 1, -4 },
  { 7, 1.418998f, -4, 1 },
  { 23, 22.500000f, 1, 3 },
  { 12, 15.489404f, -4, 1 },
  { 11, 50.783525f, -4, -4 },
  { 13, 42.966879f, -4, 1 },
  { 1, 323.913086f, -4, 1 },
  { 0, 159.666298f, -4, 1 },
  { 3, 45.530886f, -4, 1 },
  { 29, 0.500000f, 1, -4 },
  { 21, 41.000000f, -4, -4 } 
};

static const int32_t model_tree_roots[1] = { 0 };

static const uint8_t model_leaves[5] = { 4, 2, 0, 1, 3 };

EmlTrees model = {
        102,
        (EmlTreesNode *)(model_nodes),	  
        1,
        (int32_t *)(model_tree_roots),
        5,
        (uint8_t *)(model_leaves),
        0,
        30,
        5,
    };

static inline int32_t model_tree_0(const float *features, int32_t features_length) {
          if (features[20] < 0.500000f) {
              if (features[18] < 0.500000f) {
                  if (features[16] < 0.500000f) {
                      if (features[19] < 0.500000f) {
                          return 4;
                      } else {
                          if (features[10] < 119.259941f) {
                              return 4;
                          } else {
                              if (features[2] < 110.278545f) {
                                  return 4;
                              } else {
                                  if (features[28] < 0.500000f) {
                                      if (features[29] < 0.500000f) {
                                          if (features[21] < 14.062500f) {
                                              if (features[23] < 6.625000f) {
                                                  return 2;
                                              } else {
                                                  return 4;
                                              }
                                          } else {
                                              if (features[24] < 12.875000f) {
                                                  if (features[24] < 5.437500f) {
                                                      return 2;
                                                  } else {
                                                      return 4;
                                                  }
                                              } else {
                                                  if (features[10] < 122.706161f) {
                                                      if (features[10] < 122.681889f) {
                                                          if (features[25] < 17.000000f) {
                                                              return 2;
                                                          } else {
                                                              return 4;
                                                          }
                                                      } else {
                                                          return 4;
                                                      }
                                                  } else {
                                                      return 2;
                                                  }
                                              }
                                          }
                                      } else {
                                          return 4;
                                      }
                                  } else {
                                      return 4;
                                  }
                              }
                          }
                      }
                  } else {
                      if (features[8] < 183.313316f) {
                          if (features[8] < 182.265854f) {
                              if (features[10] < 130.019722f) {
                                  return 4;
                              } else {
                                  return 2;
                              }
                          } else {
                              if (features[0] < 179.665802f) {
                                  return 4;
                              } else {
                                  if (features[25] < 12.000000f) {
                                      return 0;
                                  } else {
                                      if (features[5] < 27.819674f) {
                                          return 0;
                                      } else {
                                          return 4;
                                      }
                                  }
                              }
                          }
                      } else {
                          if (features[21] < 43.062500f) {
                              if (features[21] < 0.062500f) {
                                  if (features[10] < 114.392723f) {
                                      return 0;
                                  } else {
                                      if (features[19] < 0.500000f) {
                                          return 0;
                                      } else {
                                          if (features[14] < 9.560196f) {
                                              return 0;
                                          } else {
                                              if (features[27] < 0.500000f) {
                                                  return 0;
                                              } else {
                                                  return 0;
                                              }
                                          }
                                      }
                                  }
                              } else {
                                  if (features[21] < 37.687500f) {
                                      return 4;
                                  } else {
                                      if (features[25] < 10.000000f) {
                                          return 4;
                                      } else {
                                          return 0;
                                      }
                                  }
                              }
                          } else {
                              if (features[24] < 14.062500f) {
                                  return 4;
                              } else {
                                  if (features[22] < 14.062500f) {
                                      return 4;
                                  } else {
                                      if (features[23] < 13.937500f) {
                                          return 4;
                                      } else {
                                          if (features[15] < 7.110265f) {
                                              if (features[0] < 167.803329f) {
                                                  if (features[23] < 38.312500f) {
                                                      return 0;
                                                  } else {
                                                      return 4;
                                                  }
                                              } else {
                                                  if (features[5] < 2.911404f) {
                                                      if (features[7] < 5.942174f) {
                                                          return 4;
                                                      } else {
                                                          return 0;
                                                      }
                                                  } else {
                                                      if (features[5] < 9.729343f) {
                                                          if (features[5] < 9.505977f) {
                                                              return 0;
                                                          } else {
                                                              return 4;
                                                          }
                                                      } else {
                                                          return 0;
                                                      }
                                                  }
                                              }
                                          } else {
                                              if (features[6] < 7.428928f) {
                                                  return 0;
                                              } else {
                                                  return 4;
                                              }
                                          }
                                      }
                                  }
                              }
                          }
                      }
                  }
              } else {
                  if (features[17] < 0.500000f) {
                      if (features[10] < 123.607845f) {
                          if (features[8] < 185.309532f) {
                              if (features[10] < 123.124245f) {
                                  return 4;
                              } else {
                                  if (features[12] < 18.865763f) {
                                      return 4;
                                  } else {
                                      return 2;
                                  }
                              }
                          } else {
                              if (features[16] < 0.500000f) {
                                  return 4;
                              } else {
                                  return 0;
                              }
                          }
                      } else {
                          if (features[19] < 0.500000f) {
                              return 4;
                          } else {
                              return 2;
                          }
                      }
                  } else {
                      if (features[9] < 418.256744f) {
                          if (features[16] < 0.500000f) {
                              if (features[21] < 277.937500f) {
                                  if (features[23] < 7.062500f) {
                                      if (features[19] < 0.500000f) {
                                          return 1;
                                      } else {
                                          if (features[25] < 6.500000f) {
                                              return 1;
                                          } else {
                                              if (features[2] < 127.080555f) {
                                                  return 1;
                                              } else {
                                                  return 1;
                                              }
                                          }
                                      }
                                  } else {
                                      return 1;
                                  }
                              } else {
                                  return 1;
                              }
                          } else {
                              if (features[8] < 181.715668f) {
                                  return 1;
                              } else {
                                  if (features[21] < 27.062500f) {
                                      if (features[26] < 0.500000f) {
                                          if (features[29] < 0.500000f) {
                                              if (features[4] < 25.582688f) {
                                                  return 0;
                                              } else {
                                                  return 0;
                                              }
                                          } else {
                                              if (features[10] < 97.458126f) {
                                                  return 0;
                                              } else {
                                                  if (features[15] < 5.393317f) {
                                                      return 0;
                                                  } else {
                                                      if (features[23] < 60.500000f) {
                                                          return 0;
                                                      } else {
                                                          return 0;
                                                      }
                                                  }
                                              }
                                          }
                                      } else {
                                          return 0;
                                      }
                                  } else {
                                      return 0;
                                  }
                              }
                          }
                      } else {
                          return 4;
                      }
                  }
              }
          } else {
              if (features[11] < 47.412533f) {
                  if (features[10] < 125.301052f) {
                      if (features[10] < 125.001232f) {
                          return 4;
                      } else {
                          if (features[23] < 113.937500f) {
                              return 4;
                          } else {
                              return 2;
                          }
                      }
                  } else {
                      if (features[6] < 21.733156f) {
                          return 2;
                      } else {
                          return 4;
                      }
                  }
              } else {
                  if (features[17] < 0.500000f) {
                      if (features[8] < 185.442596f) {
                          if (features[10] < 122.585590f) {
                              if (features[3] < 41.608866f) {
                                  return 4;
                              } else {
                                  if (features[6] < 0.438356f) {
                                      if (features[4] < 5.653892f) {
                                          return 3;
                                      } else {
                                          return 4;
                                      }
                                  } else {
                                      if (features[0] < 201.215080f) {
                                          if (features[15] < 7.491572f) {
                                              if (features[9] < 467.180008f) {
                                                  if (features[3] < 43.284040f) {
                                                      if (features[3] < 43.248978f) {
                                                          return 3;
                                                      } else {
                                                          return 4;
                                                      }
                                                  } else {
                                                      return 3;
                                                  }
                                              } else {
                                                  if (features[13] < 36.360596f) {
                                                      if (features[3] < 48.790356f) {
                                                          return 3;
                                                      } else {
                                                          return 4;
                                                      }
                                                  } else {
                                                      return 3;
                                                  }
                                              }
                                          } else {
                                              if (features[10] < 101.306274f) {
                                                  return 3;
                                              } else {
                                                  return 4;
                                              }
                                          }
                                      } else {
                                          if (features[6] < 7.059224f) {
                                              return 0;
                                          } else {
                                              return 3;
                                          }
                                      }
                                  }
                              }
                          } else {
                              if (features[24] < 146.000000f) {
                                  if (features[19] < 0.500000f) {
                                      return 3;
                                  } else {
                                      if (features[14] < 8.987189f) {
                                          return 2;
                                      } else {
                                          if (features[3] < 48.646521f) {
                                              return 2;
                                          } else {
                                              return 2;
                                          }
                                      }
                                  }
                              } else {
                                  return 2;
                              }
                          }
                      } else {
                          if (features[23] < 74.937500f) {
                              if (features[21] < 22.062500f) {
                                  if (features[7] < 4.484909f) {
                                      return 0;
                                  } else {
                                      return 0;
                                  }
                              } else {
                                  return 0;
                              }
                          } else {
                              if (features[11] < 49.409126f) {
                                  return 0;
                              } else {
                                  return 3;
                              }
                          }
                      }
                  } else {
                      if (features[9] < 413.568634f) {
                          if (features[22] < 14.562500f) {
                              if (features[7] < 1.418998f) {
                                  return 1;
                              } else {
                                  if (features[23] < 22.500000f) {
                                      if (features[12] < 15.489404f) {
                                          return 1;
                                      } else {
                                          if (features[11] < 50.783525f) {
                                              return 1;
                                          } else {
                                              return 1;
                                          }
                                      }
                                  } else {
                                      if (features[13] < 42.966879f) {
                                          return 1;
                                      } else {
                                          if (features[1] < 323.913086f) {
                                              return 1;
                                          } else {
                                              if (features[0] < 159.666298f) {
                                                  return 1;
                                              } else {
                                                  if (features[3] < 45.530886f) {
                                                      return 1;
                                                  } else {
                                                      if (features[29] < 0.500000f) {
                                                          if (features[21] < 41.000000f) {
                                                              return 1;
                                                          } else {
                                                              return 1;
                                                          }
                                                      } else {
                                                          return 1;
                                                      }
                                                  }
                                              }
                                          }
                                      }
                                  }
                              }
                          } else {
                              return 1;
                          }
                      } else {
                          return 3;
                      }
                  }
              }
          }
        }
        

int32_t model_predict(const float *features, int32_t features_length) {

        int32_t votes[5] = {0,};
        int32_t _class = -1;

        _class = model_tree_0(features, features_length); votes[_class] += 1;
    
        int32_t most_voted_class = -1;
        int32_t most_voted_votes = 0;
        for (int32_t i=0; i<5; i++) {

            if (votes[i] > most_voted_votes) {
                most_voted_class = i;
                most_voted_votes = votes[i];
            }
        }
        return most_voted_class;
    }
    